<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
	<header th:replace="template :: header">
	</header>
	<body>
		<head th:replace="template :: navbar"/>
		<div class="container">
			<div>
				<h3 class="header center-on-small-only">Funcionarios</h3>
			</div>
			<table class="table bordered striped responsive-table">
				<thead>
					<tr>
						<th>Nome</th>
						<th>Opções</th>
						<th>Adicionar Entrada/Saída</th>
						<th>Ver Horas</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="funcionario : ${funcionarios}">
						<td th:text="${funcionario.nome}"></td>
						<td>
							<a class="waves-effect waves-light btn" th:href="@{/funcionarios/edit/{id}(id=${funcionario.id})}">
								Editar<i class="material-icons right">edit</i>
							</a>
							<a class="waves-effect waves-light btn red" th:href="@{/funcionarios/delete/{id}(id=${funcionario.id})}">
								Excluir<i class="material-icons right">delete</i>
							</a>
						</td>
						<td>
							<a class="waves-effect waves-light btn modal-trigger" th:href="'#modal' + ${funcionario.id}" >
							      <i class="material-icons">edit</i>
							</a>
							<div th:id="'modal' + ${funcionario.id}" class="modal modal-fixed-footer">
								<div class="modal-content">
									<h4 th:text="${funcionario.nome}"></h4>
									<h4 th:text="${funcionario.id}"></h4>
									<h4 th:text="${funcionario.PO}"></h4>
									<!-- input type="text" class="timepicker"/>
  									<input type="text" class="datepicker"/-->
  										<form action="" th:action="@{/hora/save}" th:object="${hora}" method="POST" class="form-horizontal">
  											<input type="hidden" th:object="${funcionario}" th:value="${funcionario}" id="funcionario" name="funcionario"/>
											<input type="date" class="datepicker" id="date" placeholder="Date" th:field="*{date}"/>
											<input type="time" class="timepicker" id="time" placeholder="Time" th:field="*{time}"/>
			  									<select th:field="*{tipo}">
			  										<option th:each="tipoDeHora : ${TiposDeHora}" th:value="${tipoDeHora}"  th:text="${tipoDeHora}"></option>
			  									</select>
									      	<button type="submit" class="btn btn-sm btn-primary">Salvar</button>
										</form>						
  								</div>
								<div class="modal-footer">
									<a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Fechar</a>
								</div>
							</div>
						</td>
						<td>
						  <button data-target="modal1" class="btn modal-trigger">Ver Horas</button>
							<div id="modal1" class="modal bottom-sheet">
								<div class="modal-content">
								<form th:action="@{/funcionarios/verhoras/}">
									<input type="number" name="ano"/>
									<input type="number" name="mes"/>
									<input type="hidden" name="id" th:value="${funcionario.id}"/>
									<input type="submit" class="waves-effect waves-light btn"/>
								</form>
								</div>
								<div class="modal-footer">
									<a href="" class="modal-action modal-close waves-effect waves-green btn-flat">Agree</a>
								</div>
							</div>
							
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div th:replace="template :: javascript"></div>
		<script type="text/javascript" th:src="@{/js/modal.js}"></script>
		<script type="text/javascript" th:src="@{/js/listar_func.js}"></script>

	</body>
</html>